app PeaceKeeper
{
    fun a() => 
    {       
        wait 1000;
        '`a` has been called!' >> @>log;
    }

    on Enter =>
    {
        'Begin' >> @>log;
        var @task = a~() [: timeout = 100 :];
        on @task weak cancel { 'on weak cancel' >> @>log; };
        wait 2000;
        'End' >> @>log;
    }
}
